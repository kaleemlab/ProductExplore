{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Desktop/expo-boilerplate-main/src/screens/ProfileScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect } from \"react\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Avatar, Button, TextInput } from 'react-native-paper';\nimport firebase from \"firebase\";\nimport { updateProfile } from \"../api/firebaseAPI\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nvar ProfileScreen = function ProfileScreen() {\n  var navigation = useNavigation();\n  var currentUserUID = firebase.auth().currentUser.uid;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      name = _React$useState2[0],\n      setName = _React$useState2[1];\n\n  var _React$useState3 = React.useState(''),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      bio = _React$useState4[0],\n      setBio = _React$useState4[1];\n\n  var _React$useState5 = React.useState(''),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      email = _React$useState6[0],\n      setEmail = _React$useState6[1];\n\n  var _React$useState7 = React.useState(''),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      password = _React$useState8[0],\n      setPassword = _React$useState8[1];\n\n  var _React$useState9 = React.useState(''),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      website = _React$useState10[0],\n      setWebsite = _React$useState10[1];\n\n  var _React$useState11 = React.useState(''),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      phoneNumber = _React$useState12[0],\n      setPhoneNumber = _React$useState12[1];\n\n  var _React$useState13 = React.useState(''),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      image64 = _React$useState14[0],\n      setImage64 = _React$useState14[1];\n\n  var pickImage = function pickImage() {\n    var result;\n    return _regeneratorRuntime.async(function pickImage$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              base64: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context.sent;\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var base64String = pickImage.base64;\n\n  var onHandleUpdateProfile = function onHandleUpdateProfile() {\n    var imageBase64String;\n    return _regeneratorRuntime.async(function onHandleUpdateProfile$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            imageBase64String = \"\";\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(Promise.all([firebase.firestore().collection(\"Doctors\").doc(uid).set({}), firebase.storage().ref('users/' + currentUserUID).putString(imageBase64String.split(',')[1], \"base64\", {\n              contentType: 'image/jpeg'\n            })]));\n\n          case 3:\n            if (!(name !== '' && phoneNumber !== '' && bio !== '' && website !== \"\")) {\n              _context2.next = 9;\n              break;\n            }\n\n            alert('Profile Updated');\n            _context2.next = 7;\n            return _regeneratorRuntime.awrap(updateProfile(name, phoneNumber, bio, website).then(navigation.navigate('Main')));\n\n          case 7:\n            _context2.next = 10;\n            break;\n\n          case 9:\n            alert('Please fill the empty fields.');\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  useEffect(function () {\n    function getUserInfo() {\n      var doc, dataObj;\n      return _regeneratorRuntime.async(function getUserInfo$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection('users').doc(currentUserUID).get());\n\n            case 2:\n              doc = _context3.sent;\n\n              if (!doc.exists) {\n                alert('No user data found!');\n              } else {\n                dataObj = doc.data();\n                setName(dataObj.name);\n                setBio(dataObj.bio);\n                setPassword(dataObj.password);\n                setEmail(dataObj.email);\n                setWebsite(dataObj.website);\n                setPhoneNumber(dataObj.phoneNumber);\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    getUserInfo();\n  });\n  return React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      height: 4\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), React.createElement(StatusBar, {\n    animated: true,\n    backgroundColor: \"#61dafb\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 1,\n      marginTop: 10,\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, React.createElement(Avatar.Image, {\n    size: 100,\n    source: require(\"../../assets/favicon.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      backgroundColor: \"#fff\"\n    },\n    mode: \"outlined\",\n    label: \"Name\",\n    placeholder: \"Type your name\",\n    autoCapitalize: \"none\",\n    textContentType: \"name\",\n    value: name,\n    onChangeText: function onChangeText(text) {\n      return setName(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      backgroundColor: \"#fff\"\n    },\n    mode: \"outlined\",\n    label: \"Email\",\n    editable: false,\n    selectTextOnFocus: false,\n    placeholder: \"Type your email\",\n    autoCapitalize: \"none\",\n    textContentType: \"emailAddress\",\n    value: email,\n    autoFocus: true,\n    onChangeText: function onChangeText(text) {\n      return setEmail(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      backgroundColor: \"#fff\"\n    },\n    mode: \"outlined\",\n    label: \"Phone Number\",\n    placeholder: \"Type your phone number\",\n    autoCapitalize: \"none\",\n    textContentType: \"telephoneNumber\",\n    value: phoneNumber,\n    autoFocus: true,\n    onChangeText: function onChangeText(text) {\n      return setPhoneNumber(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      backgroundColor: \"#fff\"\n    },\n    mode: \"outlined\",\n    label: \"Password\",\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    secureTextEntry: true,\n    textContentType: \"password\",\n    editable: false,\n    selectTextOnFocus: false,\n    value: password,\n    onChangeText: function onChangeText(text) {\n      return setPassword(text);\n    },\n    placeholder: \"Type your password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      backgroundColor: \"#fff\"\n    },\n    mode: \"outlined\",\n    label: \"Bio\",\n    placeholder: \"Type your bio\",\n    autoCapitalize: \"none\",\n    textContentType: \"name\",\n    value: bio,\n    onChangeText: function onChangeText(text) {\n      return setBio(text);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      backgroundColor: \"#fff\"\n    },\n    mode: \"outlined\",\n    label: \"Website\",\n    placeholder: \"Type your website link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 17\n    }\n  }), React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }), React.createElement(Button, {\n    icon: \"account\",\n    mode: \"contained\",\n    onPress: onHandleUpdateProfile,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 17\n    }\n  }, \"Update\"), React.createElement(View, {\n    style: {\n      height: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingLeft: 15,\n    paddingRight: 15,\n    marginTop: 20,\n    paddingBottom: 15,\n    backgroundColor: \"#fff\"\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"sources":["/Users/mac/Desktop/expo-boilerplate-main/src/screens/ProfileScreen.js"],"names":["React","useEffect","Avatar","Button","TextInput","firebase","updateProfile","useNavigation","ProfileScreen","navigation","currentUserUID","auth","currentUser","uid","useState","name","setName","bio","setBio","email","setEmail","password","setPassword","website","setWebsite","phoneNumber","setPhoneNumber","image64","setImage64","pickImage","ImagePicker","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","base64","aspect","quality","result","base64String","onHandleUpdateProfile","imageBase64String","Promise","all","firestore","collection","doc","set","storage","ref","putString","split","contentType","alert","then","navigate","getUserInfo","get","exists","dataObj","data","styles","container","height","flex","marginTop","alignItems","require","backgroundColor","text","StyleSheet","create","paddingLeft","paddingRight","paddingBottom"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\nimport {SafeAreaView, ScrollView, StatusBar, StyleSheet, View} from \"react-native\";\nimport {Avatar, Button, TextInput} from 'react-native-paper';\nimport firebase from \"firebase\";\nimport {updateProfile} from \"../api/firebaseAPI\";\nimport {useNavigation} from \"@react-navigation/native\";\n\nconst ProfileScreen = () => {\n    const navigation = useNavigation();\n    let currentUserUID = firebase.auth().currentUser.uid;\n\n    const [name, setName] = React.useState('');\n    const [bio, setBio] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [website, setWebsite] = React.useState('');\n    const [phoneNumber, setPhoneNumber] = React.useState('');\n    const [image64, setImage64] = React.useState('');\n\n    const pickImage = async () => {\n        let result = await ImagePicker.launchImageLibraryAsync({\n            mediaTypes: ImagePicker.MediaTypeOptions.All,\n            allowsEditing: true,\n            base64: true,\n            aspect: [4, 3],\n            quality: 1,\n        });\n    };\n    const base64String = pickImage.base64\n\n\n    const onHandleUpdateProfile = async () => {\n\n            const imageBase64String = \"\"\n            await Promise.all([\n                firebase.firestore()\n                    .collection(\"Doctors\")\n                    .doc(uid)\n                    .set({}),\n                firebase.storage()\n                    .ref('users/' + currentUserUID)\n                    .putString(imageBase64String.split(',')[1], \"base64\", {contentType: 'image/jpeg'})\n            ])\n\n\n\n        if (name !== '' && phoneNumber !== '' && bio !== '' && website !== \"\") {\n            alert('Profile Updated')\n            await updateProfile(name, phoneNumber, bio, website)\n                .then(navigation.navigate('Main'));\n        } else {\n            alert('Please fill the empty fields.')\n        }\n    };\n\n    useEffect(() => {\n        async function getUserInfo() {\n            let doc = await firebase\n                .firestore()\n                .collection('users')\n                .doc(currentUserUID)\n                .get();\n\n            if (!doc.exists) {\n                alert('No user data found!')\n            } else {\n                let dataObj = doc.data();\n                setName(dataObj.name);\n                setBio(dataObj.bio);\n                setPassword(dataObj.password);\n                setEmail(dataObj.email);\n                setWebsite(dataObj.website);\n                setPhoneNumber(dataObj.phoneNumber);\n            }\n        }\n\n        getUserInfo();\n    })\n\n    return (\n        <ScrollView\n            showsVerticalScrollIndicator={false}\n            style={styles.container}>\n            <SafeAreaView>\n                <View style={{height: 4}}/>\n                <StatusBar\n                    animated={true}\n                    backgroundColor=\"#61dafb\"/>\n                <View style={{flex: 1, marginTop: 10, alignItems: 'center'}}>\n                    <Avatar.Image size={100} source={require('../../assets/favicon.png')}/>\n                </View>\n                <View style={{height: 10}}/>\n                <TextInput\n                    style={{\n                        backgroundColor: \"#fff\"\n                    }}\n                    mode=\"outlined\"\n                    label=\"Name\"\n                    placeholder=\"Type your name\"\n                    autoCapitalize='none'\n                    textContentType='name'\n                    value={name}\n                    onChangeText={text => setName(text)}\n                />\n                <View style={{height: 10}}/>\n                <TextInput\n                    style={{\n                        backgroundColor: \"#fff\"\n                    }}\n                    mode=\"outlined\"\n                    label=\"Email\"\n                    editable={false}\n                    selectTextOnFocus={false}\n                    placeholder=\"Type your email\"\n                    autoCapitalize='none'\n                    textContentType='emailAddress'\n                    value={email}\n                    autoFocus={true}\n                    onChangeText={text => setEmail(text)}\n                />\n                <View style={{height: 10}}/>\n                <TextInput\n                    style={{\n                        backgroundColor: \"#fff\"\n                    }}\n                    mode=\"outlined\"\n                    label=\"Phone Number\"\n                    placeholder=\"Type your phone number\"\n                    autoCapitalize='none'\n                    textContentType='telephoneNumber'\n                    value={phoneNumber}\n                    autoFocus={true}\n                    onChangeText={text => setPhoneNumber(text)}\n                />\n                <View style={{height: 10}}/>\n\n                <TextInput\n                    style={{\n                        backgroundColor: \"#fff\"\n                    }}\n                    mode=\"outlined\"\n                    label=\"Password\"\n                    autoCapitalize='none'\n                    autoCorrect={false}\n                    secureTextEntry={true}\n                    textContentType='password'\n                    editable={false}\n                    selectTextOnFocus={false}\n                    value={password}\n                    onChangeText={text => setPassword(text)}\n                    placeholder=\"Type your password\"\n                />\n                <View style={{height: 10}}/>\n                <TextInput\n                    style={{\n                        backgroundColor: \"#fff\"\n                    }}\n                    mode=\"outlined\"\n                    label=\"Bio\"\n                    placeholder=\"Type your bio\"\n                    autoCapitalize='none'\n                    textContentType='name'\n                    value={bio}\n                    onChangeText={text => setBio(text)}\n                />\n                <View style={{height: 10}}/>\n                <TextInput\n                    style={{\n                        backgroundColor: \"#fff\"\n                    }}\n                    mode=\"outlined\"\n                    label=\"Website\"\n                    placeholder=\"Type your website link\"\n                />\n                <View style={{height: 20}}/>\n                <Button icon=\"account\" mode=\"contained\" onPress={onHandleUpdateProfile}>\n                    Update\n                </Button>\n                <View style={{height: 30}}/>\n            </SafeAreaView>\n        </ScrollView>\n    );\n};\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        paddingLeft: 15,\n        paddingRight: 15,\n        marginTop: 20,\n        paddingBottom: 15,\n        backgroundColor: \"#fff\",\n    },\n});\n\nexport default ProfileScreen;\n"]},"metadata":{},"sourceType":"module"}