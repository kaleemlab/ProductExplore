{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Desktop/expo-boilerplate-main/src/screens/HomeDetailScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from \"react\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Avatar, Button, Card, Chip, Paragraph, Snackbar, Subheading, Title, TouchableRipple } from 'react-native-paper';\nimport { useNavigation } from \"@react-navigation/native\";\nimport { useStoreActions } from \"easy-peasy\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport firebase from \"firebase\";\n\nvar HomeDetailScreen = function HomeDetailScreen(_ref) {\n  var route = _ref.route;\n  var navigation = useNavigation();\n  var postItem = route.params.postObject.postItem;\n  var add = useStoreActions(function (actions) {\n    return actions.addExpense;\n  });\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      description = _useState2[0],\n      setDescription = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      amount = _useState4[0],\n      setAmount = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      selectedCategory = _useState6[0],\n      setSelectedCategory = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      selectedVariant = _useState8[0],\n      setSelectedVariant = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedPrice = _useState10[0],\n      setSelectedPrice = _useState10[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      visible = _React$useState2[0],\n      setVisible = _React$useState2[1];\n\n  var onDismissSnackBar = function onDismissSnackBar() {\n    return setVisible(false);\n  };\n\n  var onToggleSnackBar = function onToggleSnackBar() {\n    var db = firebase.firestore();\n    var increment = firebase.firestore.FieldValue.increment(1);\n    db.collection(\"posts\").doc(route.params.postObject.key).update({\n      totalVote: increment\n    });\n    setVisible(!visible);\n    setTimeout(function () {\n      navigation.navigate('Home');\n    }, 1500);\n  };\n\n  var periods = {\n    month: 30 * 24 * 60 * 60 * 1000,\n    week: 7 * 24 * 60 * 60 * 1000,\n    day: 24 * 60 * 60 * 1000,\n    hour: 60 * 60 * 1000,\n    minute: 60 * 1000\n  };\n\n  function formatTime(timeCreated) {\n    var diff = Date.now() - timeCreated;\n\n    if (diff > periods.month) {\n      return Math.floor(diff / periods.month) + \" months ago\";\n    } else if (diff > periods.week) {\n      return Math.floor(diff / periods.week) + \" weeks ago\";\n    } else if (diff > periods.day) {\n      return Math.floor(diff / periods.day) + \" days ago\";\n    } else if (diff > periods.hour) {\n      return Math.floor(diff / periods.hour) + \" hours ago\";\n    } else if (diff > periods.minute) {\n      return Math.floor(diff / periods.minute) + \" minutes ago\";\n    }\n\n    return \"Just now\";\n  }\n\n  return React.createElement(ScrollView, {\n    showsVerticalScrollIndicator: false,\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      marginTop: 10,\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, React.createElement(Avatar.Image, {\n    size: 100,\n    source: route.params.postObject.logo.length !== 0 ? {\n      uri: route.params.postObject.logo\n    } : require(\"../../assets/favicon.png\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  })), React.createElement(Card, {\n    style: {\n      padding: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  }, React.createElement(Card.Content, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, React.createElement(Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 25\n    }\n  }, route.params.postObject.name), React.createElement(Paragraph, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, route.params.postObject.description)), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, React.createElement(Chip, {\n    icon: \"cash\",\n    onPress: function onPress() {\n      alert(\"Product has \" + route.params.postObject.selectedPrice.toLowerCase() + \" pricing options.\");\n    },\n    style: styles.chip,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, route.params.postObject.selectedPrice, \" Options\"), React.createElement(Chip, {\n    icon: \"apps\",\n    onPress: function onPress() {\n      alert(\"Product is for \" + route.params.postObject.selectedVariant.toLowerCase() + \" users.\");\n    },\n    style: styles.chip,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, route.params.postObject.selectedVariant)), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, React.createElement(Chip, {\n    icon: \"shape\",\n    onPress: function onPress() {\n      alert(\"Product belongs to \" + route.params.postObject.selectedCategory.toLowerCase() + \" category.\");\n    },\n    style: _objectSpread(_objectSpread({}, styles.chip), {}, {\n      flex: 1\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, route.params.postObject.selectedCategory)), React.createElement(View, {\n    style: {\n      height: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }), React.createElement(View, {\n    style: styles.row,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, React.createElement(Chip, {\n    icon: \"account\",\n    onPress: function onPress() {\n      alert(\"Product is shared by \" + route.params.postObject.userName.toLowerCase() + \".\");\n    },\n    style: styles.chip,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, route.params.postObject.userName.split(\" \")[0]), React.createElement(Chip, {\n    icon: \"clock\",\n    onPress: function onPress() {\n      alert(\"Product was posted \" + formatTime(route.params.postObject.time) + \".\");\n    },\n    style: styles.chip,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 25\n    }\n  }, formatTime(route.params.postObject.time))), React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }), React.createElement(TouchableRipple, {\n    onPress: onToggleSnackBar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      borderWidth: 1,\n      borderColor: 'lightgray',\n      borderRadius: 10,\n      padding: 5,\n      marginTop: 5,\n      justifyContent: 'center',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, React.createElement(Ionicons, {\n    name: \"caret-up\",\n    size: 25,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }), React.createElement(Subheading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }, route.params.postObject.totalVote))), React.createElement(View, {\n    style: {\n      height: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }), React.createElement(Button, {\n    icon: \"account\",\n    mode: \"text\",\n    onPress: function onPress() {\n      return Linking.openURL('mailto:' + route.params.postObject.email + '?subject=ProductExplore | ' + route.params.postObject.name + '&body=Hello!');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 21\n    }\n  }, \"CONTACT OWNER\"), React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }), React.createElement(Button, {\n    icon: \"link\",\n    mode: \"contained\",\n    onPress: function onPress() {\n      return Platform.OS === 'web' ? window.open(route.params.postObject.website, '_blank') : Linking.openURL(route.params.postObject.website);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"VISIT PRODUCT WEBSITE\"), React.createElement(View, {\n    style: {\n      height: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  })), React.createElement(View, {\n    style: {\n      height: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  })), React.createElement(Snackbar, {\n    visible: visible,\n    onDismiss: onDismissSnackBar,\n    action: {\n      label: 'Undo',\n      onPress: function onPress() {}\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, \"Your vote has been counted!\"));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingBottom: 15,\n    backgroundColor: \"#fff\"\n  },\n  row: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    flex: 1\n  },\n  chip: {\n    margin: 4,\n    flex: 0.50,\n    backgroundColor: 'lightgray'\n  }\n});\nexport default HomeDetailScreen;","map":{"version":3,"sources":["/Users/mac/Desktop/expo-boilerplate-main/src/screens/HomeDetailScreen.js"],"names":["React","useState","Avatar","Button","Card","Chip","Paragraph","Snackbar","Subheading","Title","TouchableRipple","useNavigation","useStoreActions","Ionicons","firebase","HomeDetailScreen","route","navigation","postItem","params","postObject","add","actions","addExpense","description","setDescription","amount","setAmount","selectedCategory","setSelectedCategory","selectedVariant","setSelectedVariant","selectedPrice","setSelectedPrice","visible","setVisible","onDismissSnackBar","onToggleSnackBar","db","firestore","increment","FieldValue","collection","doc","key","update","totalVote","setTimeout","navigate","periods","month","week","day","hour","minute","formatTime","timeCreated","diff","Date","now","Math","floor","styles","container","flex","marginTop","alignItems","logo","length","uri","require","padding","name","height","row","alert","toLowerCase","chip","userName","split","time","borderWidth","borderColor","borderRadius","justifyContent","flexDirection","Linking","openURL","email","Platform","OS","window","open","website","label","onPress","StyleSheet","create","paddingLeft","paddingRight","paddingBottom","backgroundColor","flexWrap","margin"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;;;;;;AAEA,SAAQC,MAAR,EAAgBC,MAAhB,EAAwBC,IAAxB,EAA8BC,IAA9B,EAAoCC,SAApC,EAA+CC,QAA/C,EAAyDC,UAAzD,EAAqEC,KAArE,EAA4EC,eAA5E,QAAkG,oBAAlG;AACA,SAAQC,aAAR,QAA4B,0BAA5B;AACA,SAAQC,eAAR,QAA8B,YAA9B;AACA,SAAQC,QAAR,QAAuB,oBAAvB;AACA,OAAOC,QAAP,MAAqB,UAArB;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAa;AAAA,MAAXC,KAAW,QAAXA,KAAW;AAClC,MAAMC,UAAU,GAAGN,aAAa,EAAhC;AACA,MAAOO,QAAP,GAAmBF,KAAK,CAACG,MAAN,CAAaC,UAAhC,CAAOF,QAAP;AAEA,MAAMG,GAAG,GAAGT,eAAe,CAAC,UAACU,OAAD;AAAA,WAAaA,OAAO,CAACC,UAArB;AAAA,GAAD,CAA3B;;AACA,kBAAsCtB,QAAQ,CAAC,EAAD,CAA9C;AAAA;AAAA,MAAOuB,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAA4BxB,QAAQ,CAAC,EAAD,CAApC;AAAA;AAAA,MAAOyB,MAAP;AAAA,MAAeC,SAAf;;AACA,mBAAgD1B,QAAQ,EAAxD;AAAA;AAAA,MAAO2B,gBAAP;AAAA,MAAyBC,mBAAzB;;AACA,mBAA8C5B,QAAQ,EAAtD;AAAA;AAAA,MAAO6B,eAAP;AAAA,MAAwBC,kBAAxB;;AACA,mBAA0C9B,QAAQ,EAAlD;AAAA;AAAA,MAAO+B,aAAP;AAAA,MAAsBC,gBAAtB;;AAEA,wBAA8BjC,KAAK,CAACC,QAAN,CAAe,KAAf,CAA9B;AAAA;AAAA,MAAOiC,OAAP;AAAA,MAAgBC,UAAhB;;AACA,MAAMC,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,WAAMD,UAAU,CAAC,KAAD,CAAhB;AAAA,GAA1B;;AAEA,MAAME,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3B,QAAMC,EAAE,GAAGxB,QAAQ,CAACyB,SAAT,EAAX;AACA,QAAMC,SAAS,GAAG1B,QAAQ,CAACyB,SAAT,CAAmBE,UAAnB,CAA8BD,SAA9B,CAAwC,CAAxC,CAAlB;AACAF,IAAAA,EAAE,CAACI,UAAH,CAAc,OAAd,EACKC,GADL,CACS3B,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBwB,GADjC,EAEKC,MAFL,CAEY;AACJC,MAAAA,SAAS,EAAEN;AADP,KAFZ;AAKAL,IAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAa,IAAAA,UAAU,CAAC,YAAM;AACb9B,MAAAA,UAAU,CAAC+B,QAAX,CAAoB,MAApB;AACH,KAFS,EAEP,IAFO,CAAV;AAIH,GAbD;;AAgBA,MAAIC,OAAO,GAAG;AACVC,IAAAA,KAAK,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,EAAf,GAAoB,IADjB;AAEVC,IAAAA,IAAI,EAAE,IAAI,EAAJ,GAAS,EAAT,GAAc,EAAd,GAAmB,IAFf;AAGVC,IAAAA,GAAG,EAAE,KAAK,EAAL,GAAU,EAAV,GAAe,IAHV;AAIVC,IAAAA,IAAI,EAAE,KAAK,EAAL,GAAU,IAJN;AAKVC,IAAAA,MAAM,EAAE,KAAK;AALH,GAAd;;AAQA,WAASC,UAAT,CAAoBC,WAApB,EAAiC;AAC7B,QAAIC,IAAI,GAAGC,IAAI,CAACC,GAAL,KAAaH,WAAxB;;AAEA,QAAIC,IAAI,GAAGR,OAAO,CAACC,KAAnB,EAA0B;AAEtB,aAAOU,IAAI,CAACC,KAAL,CAAWJ,IAAI,GAAGR,OAAO,CAACC,KAA1B,IAAmC,aAA1C;AACH,KAHD,MAGO,IAAIO,IAAI,GAAGR,OAAO,CAACE,IAAnB,EAAyB;AAC5B,aAAOS,IAAI,CAACC,KAAL,CAAWJ,IAAI,GAAGR,OAAO,CAACE,IAA1B,IAAkC,YAAzC;AACH,KAFM,MAEA,IAAIM,IAAI,GAAGR,OAAO,CAACG,GAAnB,EAAwB;AAC3B,aAAOQ,IAAI,CAACC,KAAL,CAAWJ,IAAI,GAAGR,OAAO,CAACG,GAA1B,IAAiC,WAAxC;AACH,KAFM,MAEA,IAAIK,IAAI,GAAGR,OAAO,CAACI,IAAnB,EAAyB;AAC5B,aAAOO,IAAI,CAACC,KAAL,CAAWJ,IAAI,GAAGR,OAAO,CAACI,IAA1B,IAAkC,YAAzC;AACH,KAFM,MAEA,IAAII,IAAI,GAAGR,OAAO,CAACK,MAAnB,EAA2B;AAC9B,aAAOM,IAAI,CAACC,KAAL,CAAWJ,IAAI,GAAGR,OAAO,CAACK,MAA1B,IAAoC,cAA3C;AACH;;AACD,WAAO,UAAP;AACH;;AAED,SACI,oBAAC,UAAD;AACI,IAAA,4BAA4B,EAAE,KADlC;AAEI,IAAA,KAAK,EAAEQ,MAAM,CAACC,SAFlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACC,MAAAA,IAAI,EAAE,CAAP;AAAUC,MAAAA,SAAS,EAAE,EAArB;AAAyBC,MAAAA,UAAU,EAAE;AAArC,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD,CAAQ,KAAR;AACI,IAAA,IAAI,EAAE,GADV;AAEI,IAAA,MAAM,EAAElD,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB+C,IAAxB,CAA6BC,MAA7B,KAAwC,CAAxC,GAA4C;AAACC,MAAAA,GAAG,EAAErD,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB+C;AAA9B,KAA5C,GAAkFG,OAAO,4BAFrG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAOI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACC,MAAAA,OAAO,EAAE;AAAV,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD,CAAM,OAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAQvD,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBoD,IAAhC,CADJ,EAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAYxD,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBI,WAApC,CAFJ,CADJ,EAKI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACiD,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEX,MAAM,CAACY,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,MAAX;AAAkB,IAAA,OAAO,EAAE,mBAAM;AAC7BC,MAAAA,KAAK,CAAC,iBAAkB3D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBY,aAAzB,CAAwC4C,WAAxC,EAAjB,GAAyE,mBAA1E,CAAL;AACH,KAFD;AAEG,IAAA,KAAK,EAAEd,MAAM,CAACe,IAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGK7D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBY,aAH7B,aADJ,EAMI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,MAAX;AAAkB,IAAA,OAAO,EAAE,mBAAM;AAC7B2C,MAAAA,KAAK,CAAC,oBAAqB3D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBU,eAAzB,CAA0C8C,WAA1C,EAApB,GAA8E,SAA/E,CAAL;AACH,KAFD;AAEG,IAAA,KAAK,EAAEd,MAAM,CAACe,IAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGK7D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBU,eAH7B,CANJ,CANJ,EAkBI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAC2C,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBJ,EAmBI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEX,MAAM,CAACY,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAmB,IAAA,OAAO,EAAE,mBAAM;AAC9BC,MAAAA,KAAK,CAAC,wBAAyB3D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBQ,gBAAzB,CAA2CgD,WAA3C,EAAxB,GAAmF,YAApF,CAAL;AACH,KAFD;AAEG,IAAA,KAAK,kCAAMd,MAAM,CAACe,IAAb;AAAmBb,MAAAA,IAAI,EAAE;AAAzB,MAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGKhD,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBQ,gBAH7B,CADJ,CAnBJ,EA0BI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAC6C,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BJ,EA2BI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEX,MAAM,CAACY,GAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,SAAX;AAAqB,IAAA,OAAO,EAAE,mBAAM;AAChCC,MAAAA,KAAK,CAAC,0BAA2B3D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB0D,QAAzB,CAAmCF,WAAnC,EAA1B,GAA6E,GAA9E,CAAL;AACH,KAFD;AAEG,IAAA,KAAK,EAAEd,MAAM,CAACe,IAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGM7D,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB0D,QAAzB,CAAmCC,KAAnC,CAAyC,GAAzC,EAA8C,CAA9C,CAHL,CADJ,EAMI,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,OAAX;AAAmB,IAAA,OAAO,EAAE,mBAAM;AAC9BJ,MAAAA,KAAK,CAAC,wBAAwBpB,UAAU,CAACvC,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB4D,IAAzB,CAAlC,GAAmE,GAApE,CAAL;AACH,KAFD;AAEG,IAAA,KAAK,EAAElB,MAAM,CAACe,IAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGKtB,UAAU,CAACvC,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB4D,IAAzB,CAHf,CANJ,CA3BJ,EAuCI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACP,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCJ,EAwCI,oBAAC,eAAD;AACI,IAAA,OAAO,EAAEpC,gBADb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AACT2B,MAAAA,IAAI,EAAE,CADG;AAETiB,MAAAA,WAAW,EAAE,CAFJ;AAGTC,MAAAA,WAAW,EAAE,WAHJ;AAITC,MAAAA,YAAY,EAAE,EAJL;AAKTZ,MAAAA,OAAO,EAAE,CALA;AAMTN,MAAAA,SAAS,EAAE,CANF;AAOTmB,MAAAA,cAAc,EAAE,QAPP;AAQTC,MAAAA,aAAa,EAAE,QARN;AASTnB,MAAAA,UAAU,EAAE;AATH,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAWI,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAC,UAAf;AAA0B,IAAA,IAAI,EAAE,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXJ,EAYI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAalD,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwB0B,SAArC,CAZJ,CAFJ,CAxCJ,EAyDI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAC2B,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAzDJ,EA0DI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,SAAb;AAAuB,IAAA,IAAI,EAAC,MAA5B;AACQ,IAAA,OAAO,EAAE;AAAA,aAAMa,OAAO,CAACC,OAAR,CAAgB,YAAYvE,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBoE,KAApC,GAA4C,4BAA5C,GAA2ExE,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwBoD,IAAnG,GAA0G,cAA1H,CAAN;AAAA,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA1DJ,EA8DI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACC,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9DJ,EA+DI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,MAAb;AAAoB,IAAA,IAAI,EAAC,WAAzB;AACQ,IAAA,OAAO,EAAE;AAAA,aACLgB,QAAQ,CAACC,EAAT,KAAgB,KAAhB,GACIC,MAAM,CAACC,IAAP,CAAY5E,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwByE,OAApC,EAA6C,QAA7C,CADJ,GAGIP,OAAO,CAACC,OAAR,CAAgBvE,KAAK,CAACG,MAAN,CAAaC,UAAb,CAAwByE,OAAxC,CAJC;AAAA,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BA/DJ,EAuEI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACpB,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvEJ,CAPJ,EAgFI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACA,MAAAA,MAAM,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhFJ,CAHJ,EAqFI,oBAAC,QAAD;AACI,IAAA,OAAO,EAAEvC,OADb;AAEI,IAAA,SAAS,EAAEE,iBAFf;AAGI,IAAA,MAAM,EAAE;AACJ0D,MAAAA,KAAK,EAAE,MADH;AAEJC,MAAAA,OAAO,EAAE,mBAAM,CAEd;AAJG,KAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCArFJ,CADJ;AAmGH,CA3JD;;AA4JA,IAAMjC,MAAM,GAAGkC,UAAU,CAACC,MAAX,CAAkB;AAC7BlC,EAAAA,SAAS,EAAE;AACPC,IAAAA,IAAI,EAAE,CADC;AAEPkC,IAAAA,WAAW,EAAE,CAFN;AAGPC,IAAAA,YAAY,EAAE,CAHP;AAIPC,IAAAA,aAAa,EAAE,EAJR;AAKPC,IAAAA,eAAe,EAAE;AALV,GADkB;AAQ7B3B,EAAAA,GAAG,EAAE;AACDW,IAAAA,aAAa,EAAE,KADd;AAEDiB,IAAAA,QAAQ,EAAE,MAFT;AAGDtC,IAAAA,IAAI,EAAE;AAHL,GARwB;AAa7Ba,EAAAA,IAAI,EAAE;AACF0B,IAAAA,MAAM,EAAE,CADN;AAEFvC,IAAAA,IAAI,EAAE,IAFJ;AAGFqC,IAAAA,eAAe,EAAE;AAHf;AAbuB,CAAlB,CAAf;AAoBA,eAAetF,gBAAf","sourcesContent":["import React, {useState} from \"react\";\nimport {Linking, Platform, SafeAreaView, ScrollView, StyleSheet, View} from \"react-native\";\nimport {Avatar, Button, Card, Chip, Paragraph, Snackbar, Subheading, Title, TouchableRipple} from 'react-native-paper';\nimport {useNavigation} from \"@react-navigation/native\";\nimport {useStoreActions} from \"easy-peasy\";\nimport {Ionicons} from \"@expo/vector-icons\";\nimport firebase from \"firebase\";\n\nconst HomeDetailScreen = ({route}) => {\n    const navigation = useNavigation();\n    const {postItem} = route.params.postObject;\n\n    const add = useStoreActions((actions) => actions.addExpense);\n    const [description, setDescription] = useState(\"\");\n    const [amount, setAmount] = useState(\"\");\n    const [selectedCategory, setSelectedCategory] = useState();\n    const [selectedVariant, setSelectedVariant] = useState();\n    const [selectedPrice, setSelectedPrice] = useState();\n\n    const [visible, setVisible] = React.useState(false);\n    const onDismissSnackBar = () => setVisible(false);\n\n    const onToggleSnackBar = () => {\n        const db = firebase.firestore();\n        const increment = firebase.firestore.FieldValue.increment(1);\n        db.collection(\"posts\")\n            .doc(route.params.postObject.key)\n            .update({\n                totalVote: increment\n            })\n        setVisible(!visible);\n        setTimeout(() => {\n            navigation.navigate('Home')\n        }, 1500);\n\n    }\n\n\n    let periods = {\n        month: 30 * 24 * 60 * 60 * 1000,\n        week: 7 * 24 * 60 * 60 * 1000,\n        day: 24 * 60 * 60 * 1000,\n        hour: 60 * 60 * 1000,\n        minute: 60 * 1000\n    };\n\n    function formatTime(timeCreated) {\n        let diff = Date.now() - timeCreated;\n\n        if (diff > periods.month) {\n            // it was at least a month ago\n            return Math.floor(diff / periods.month) + \" months ago\";\n        } else if (diff > periods.week) {\n            return Math.floor(diff / periods.week) + \" weeks ago\";\n        } else if (diff > periods.day) {\n            return Math.floor(diff / periods.day) + \" days ago\";\n        } else if (diff > periods.hour) {\n            return Math.floor(diff / periods.hour) + \" hours ago\";\n        } else if (diff > periods.minute) {\n            return Math.floor(diff / periods.minute) + \" minutes ago\";\n        }\n        return \"Just now\";\n    }\n\n    return (\n        <ScrollView\n            showsVerticalScrollIndicator={false}\n            style={styles.container}>\n            <SafeAreaView>\n                <View style={{flex: 1, marginTop: 10, alignItems: 'center'}}>\n                    <Avatar.Image\n                        size={100}\n                        source={route.params.postObject.logo.length !== 0 ? {uri: route.params.postObject.logo} : require('../../assets/favicon.png')}\n                    />\n                </View>\n                <Card style={{padding: 10}}>\n                    <Card.Content>\n                        <Title>{route.params.postObject.name}</Title>\n                        <Paragraph>{route.params.postObject.description}</Paragraph>\n                    </Card.Content>\n                    <View style={{height: 10}}/>\n                    <View style={styles.row}>\n                        <Chip icon=\"cash\" onPress={() => {\n                            alert(\"Product has \" + (route.params.postObject.selectedPrice).toLowerCase() + \" pricing options.\")\n                        }} style={styles.chip}>\n                            {route.params.postObject.selectedPrice} Options\n                        </Chip>\n                        <Chip icon=\"apps\" onPress={() => {\n                            alert(\"Product is for \" + (route.params.postObject.selectedVariant).toLowerCase() + \" users.\")\n                        }} style={styles.chip}>\n                            {route.params.postObject.selectedVariant}\n                        </Chip>\n                    </View>\n                    <View style={{height: 10}}/>\n                    <View style={styles.row}>\n                        <Chip icon=\"shape\" onPress={() => {\n                            alert(\"Product belongs to \" + (route.params.postObject.selectedCategory).toLowerCase() + \" category.\")\n                        }} style={{...styles.chip, flex: 1}}>\n                            {route.params.postObject.selectedCategory}\n                        </Chip>\n                    </View>\n                    <View style={{height: 10}}/>\n                    <View style={styles.row}>\n                        <Chip icon=\"account\" onPress={() => {\n                            alert(\"Product is shared by \" + (route.params.postObject.userName).toLowerCase() + \".\")\n                        }} style={styles.chip}>\n                            {(route.params.postObject.userName).split(\" \")[0]}\n                        </Chip>\n                        <Chip icon=\"clock\" onPress={() => {\n                            alert(\"Product was posted \" + formatTime(route.params.postObject.time) + \".\")\n                        }} style={styles.chip}>\n                            {formatTime(route.params.postObject.time)}\n                        </Chip>\n                    </View>\n                    <View style={{height: 20}}/>\n                    <TouchableRipple\n                        onPress={onToggleSnackBar}>\n                        <View style={{\n                            flex: 1,\n                            borderWidth: 1,\n                            borderColor: 'lightgray',\n                            borderRadius: 10,\n                            padding: 5,\n                            marginTop: 5,\n                            justifyContent: 'center',\n                            flexDirection: 'column',\n                            alignItems: 'center'\n                        }}>\n                            <Ionicons name=\"caret-up\" size={25}/>\n                            <Subheading>{route.params.postObject.totalVote}</Subheading>\n                        </View>\n                    </TouchableRipple>\n                    <View style={{height: 25}}/>\n                    <Button icon=\"account\" mode=\"text\"\n                            onPress={() => Linking.openURL('mailto:' + route.params.postObject.email + '?subject=ProductExplore | ' + route.params.postObject.name + '&body=Hello!')}>\n                        CONTACT OWNER\n                    </Button>\n                    <View style={{height: 20}}/>\n                    <Button icon=\"link\" mode=\"contained\"\n                            onPress={() =>\n                                Platform.OS === 'web' ?\n                                    window.open(route.params.postObject.website, '_blank')\n                                    :\n                                    Linking.openURL(route.params.postObject.website)}>\n                        VISIT PRODUCT WEBSITE\n                    </Button>\n                    <View style={{height: 20}}/>\n                </Card>\n                <View style={{height: 30}}/>\n            </SafeAreaView>\n            <Snackbar\n                visible={visible}\n                onDismiss={onDismissSnackBar}\n                action={{\n                    label: 'Undo',\n                    onPress: () => {\n                        // Do something\n                    },\n                }}>\n                Your vote has been counted!\n            </Snackbar>\n        </ScrollView>\n    );\n};\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        paddingLeft: 5,\n        paddingRight: 5,\n        paddingBottom: 15,\n        backgroundColor: \"#fff\",\n    },\n    row: {\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n        flex: 1,\n    },\n    chip: {\n        margin: 4,\n        flex: 0.50,\n        backgroundColor: 'lightgray'\n    },\n});\n\nexport default HomeDetailScreen;\n"]},"metadata":{},"sourceType":"module"}